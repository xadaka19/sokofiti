# Memory optimized settings for Linux x2 (32GB RAM)
# Use 20GB heap - Linux has minimal OS overhead (~4-6GB)
# Leaving 12GB for system, build tools, and R8 temporary files
org.gradle.jvmargs=-Xmx20g -Xms6g -Dfile.encoding=UTF-8 -XX:MaxMetaspaceSize=1g -XX:+UseG1GC -XX:+HeapDumpOnOutOfMemoryError -XX:SoftRefLRUPolicyMSPerMB=1 -XX:ReservedCodeCacheSize=512m -XX:+UseStringDeduplication -XX:G1HeapRegionSize=32m

android.useAndroidX=true
# Jetifier needed for awesome_notifications package (has mixed support/AndroidX refs)
android.enableJetifier=true

# Enable Gradle build cache for faster builds
org.gradle.caching=true

# Disable parallel builds to reduce memory usage on CI
org.gradle.parallel=false

# Use non-transitive R classes to reduce memory usage
android.nonTransitiveRClass=true

# Disable configuration caching (can cause issues with some plugins)
org.gradle.configuration-cache=false

# R8 optimization flags - full mode enabled on Linux x2 (32GB)
# Full mode provides better optimization and smaller APK
# 32GB RAM is sufficient for full mode with proper configuration
android.enableR8.fullMode=true
android.r8.maxWorkers=4